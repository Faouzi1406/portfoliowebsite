import{S as x,i as ee,s as te,w as ae,a as N,k as i,q as B,x as se,c as T,l as u,m as v,h as m,r as C,n as o,I as Z,y as re,b as $,G as t,N as P,O as w,f as le,t as oe,z as ce,Q as ne}from"../../../../../chunks/index-e7c877ee.js";import{N as ie}from"../../../../../chunks/Navbar-26346f36.js";function ue(r){let f,p,s,n,e,A,d,D,S,j,h,U,_,c,O,I,b,F,E,V,G,K,g,M,R,X,k,z,J;return f=new ie({props:{isLoggedIn:r[2].isValidated,userName:r[2].userName||"",role:r[2].role||0}}),{c(){ae(f.$$.fragment),p=N(),s=i("div"),n=i("div"),e=i("input"),A=N(),d=i("img"),S=N(),j=i("div"),h=i("input"),U=N(),_=i("div"),c=i("p"),O=B("Omschrijfing"),I=N(),b=i("textarea"),F=N(),E=i("div"),V=i("p"),G=B("Readme"),K=N(),g=i("textarea"),M=N(),R=i("button"),X=B("Save"),this.h()},l(a){se(f.$$.fragment,a),p=T(a),s=u(a,"DIV",{class:!0});var l=v(s);n=u(l,"DIV",{class:!0});var y=v(n);e=u(y,"INPUT",{type:!0,accept:!0,class:!0,id:!0}),A=T(y),d=u(y,"IMG",{src:!0,class:!0}),S=T(y),j=u(y,"DIV",{class:!0});var Q=v(j);h=u(Q,"INPUT",{class:!0}),Q.forEach(m),y.forEach(m),U=T(l),_=u(l,"DIV",{class:!0});var q=v(_);c=u(q,"P",{});var H=v(c);O=C(H,"Omschrijfing"),H.forEach(m),I=T(q),b=u(q,"TEXTAREA",{class:!0}),v(b).forEach(m),q.forEach(m),F=T(l),E=u(l,"DIV",{});var L=v(E);V=u(L,"P",{});var W=v(V);G=C(W,"Readme"),W.forEach(m),K=T(L),g=u(L,"TEXTAREA",{class:!0}),v(g).forEach(m),L.forEach(m),M=T(l),R=u(l,"BUTTON",{class:!0});var Y=v(R);X=C(Y,"Save"),Y.forEach(m),l.forEach(m),this.h()},h(){o(e,"type","file"),o(e,"accept","image/png, image/jpg"),o(e,"class","hidden"),o(e,"id","openFile"),Z(d.src,D=`${r[1]}`)||o(d,"src",D),o(d,"class","w-full aspect-square h-52 object-cover"),o(h,"class","p-1 input border"),o(j,"class","absolute bottom-0 backdrop-blur-0 bg-white/30 w-full p-2"),o(n,"class","w-full flex items-center relative flex-col "),o(b,"class","w-full border p-2 rounded-md"),o(_,"class","mt-5"),o(g,"class","w-full border p-2 rounded-md"),o(R,"class","btn w-full btn-success text-white"),o(s,"class","px-3 ")},m(a,l){re(f,a,l),$(a,p,l),$(a,s,l),t(s,n),t(n,e),t(n,A),t(n,d),t(n,S),t(n,j),t(j,h),P(h,r[0].projectName),t(s,U),t(s,_),t(_,c),t(c,O),t(_,I),t(_,b),P(b,r[0].projectDesc),t(s,F),t(s,E),t(E,V),t(V,G),t(E,K),t(E,g),P(g,r[0].projectReadme),t(s,M),t(s,R),t(R,X),k=!0,z||(J=[w(e,"change",r[7]),w(e,"change",r[4]),w(d,"click",r[5]),w(h,"input",r[8]),w(b,"input",r[9]),w(g,"input",r[10]),w(R,"click",r[3])],z=!0)},p(a,[l]){(!k||l&2&&!Z(d.src,D=`${a[1]}`))&&o(d,"src",D),l&1&&h.value!==a[0].projectName&&P(h,a[0].projectName),l&1&&P(b,a[0].projectDesc),l&1&&P(g,a[0].projectReadme)},i(a){k||(le(f.$$.fragment,a),k=!0)},o(a){oe(f.$$.fragment,a),k=!1},d(a){ce(f,a),a&&m(p),a&&m(s),z=!1,ne(J)}}}function pe(r,f,p){let{data:s}=f;const n=s.user;let e=s.currentProject;const A=async()=>{let c=await fetch("/adminpage/gitApi",{method:"PUT",body:JSON.stringify({id:e.id,projectName:`${n.userName}/${e.projectName.split("/")[1]}`,readMe:e.projectReadme,projectAvatar:"https://avatars.githubusercontent.com/u/93382274?v=4",projectDesc:e.projectDesc,projectThumb:e.projectThumb,sessionKey:s.sessionKey})});console.log(c)};let d="/"+e.projectThumb.split("/")[2];const D=()=>{const c=new FileReader;c.readAsDataURL(e.projectThumb[0]),p(1,d=URL.createObjectURL(e.projectThumb[0])),c.onload=O=>{var I;p(0,e.projectThumb=(I=O.target)==null?void 0:I.result.split(",")[1],e)}},S=()=>{document.querySelector("#openFile").click()};function j(){e.projectThumb=this.files,p(0,e)}function h(){e.projectName=this.value,p(0,e)}function U(){e.projectDesc=this.value,p(0,e)}function _(){e.projectReadme=this.value,p(0,e)}return r.$$set=c=>{"data"in c&&p(6,s=c.data)},[e,d,n,A,D,S,s,j,h,U,_]}class fe extends x{constructor(f){super(),ee(this,f,pe,ue,te,{data:6})}}export{fe as default};
